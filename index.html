<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>이미지 갤러리</title>
  <style>
    .gallery {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .thumbnail {
      width: 200px;
      height: 200px;
      object-fit: cover;
      cursor: pointer;
      border: 1px solid #ccc;
      transition: transform 0.2s;
    }

    .thumbnail:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <h1>이미지 갤러리 (200x200)</h1>
  <div class="gallery" id="gallery"></div>

  <script>
    const gallery = document.getElementById('gallery');

    for (let i = 1; i <= 20; i++) {
      const img = document.createElement('img');
      img.src = `${i}.png`;
      img.className = 'thumbnail';
      img.alt = `이미지 ${i}`;
      img.onclick = () => openImageInNewWindow(`${i}.png`);
      gallery.appendChild(img);
    }

    function openImageInNewWindow(imgUrl) {
      const popup = window.open('', '_blank', 'width=220,height=240');

      if (!popup) {
        alert('팝업 차단이 감지되었습니다. 팝업 차단을 해제해 주세요.');
        return;
      }

      popup.document.write(`
        <!DOCTYPE html>
        <html lang="ko">
        <head>
          <meta charset="UTF-8">
          <title>이미지 보기</title>
          <style>
            body {
              margin: 0;
              display: flex;
              justify-content: center;
              align-items: center;
              height: 100vh;
              background: #000;
            }
            img {
              width: 200px;
              height: 200px;
              object-fit: cover;
              border: 1px solid #fff;
            }
          </style>
        </head>
        <body>
          <img src="${imgUrl}" alt="팝업 이미지">
        </body>
        </html>
      `);

      popup.document.close();
    }
  </script>
</body>
</html>
